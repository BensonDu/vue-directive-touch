"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){var e={getTimestamp:function(){return(new Date).getTime()},getRandomKey:function(){return"vue-touch-"+(Math.random()+"").replace(/\D/g,"")},getType:function(e,t){var n=null,o=window.devicePixelRatio,r=t.T-e.T,a=(t.X-e.X)/o,i=(t.Y-e.Y)/o,u=Math.abs(a),c=Math.abs(i),s=Math.sqrt(Math.pow(a,2)+Math.pow(i,2));switch(!0){case r<3:break;case r>300:n="long";break;case s<10:n="tap";break;case a>0&&c<20:n="right";break;case a<0&&c<20:n="left";break;case i>0&&u<20:n="down";break;case i<0&&u<20:n="up"}return n},getEventName:function(){return n?{start:"touchstart",end:"touchend"}:{start:"mousedown",end:"mouseup"}},attachEvent:function(t,n,o){var r=e.getEventName();t.addEventListener(r.start,n.start,o),t.addEventListener(r.end,n.end,o)},detachEvent:function(t,n){var o=e.getEventName();t.removeEventListener(o.start,n.start),t.removeEventListener(o.end,n.end)}},t={},n="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0||/(Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone)/i.test(navigator.userAgent),o=function(e,t,n){return n.stop&&t.stopPropagation(),n.prevent&&t.preventDefault(),!n.self||e===t.target},r=function(t){return{start:function r(a){var u=this["vue-touch-id"],c=i[u][t],s=c.method,d=c.modifiers,r=c.start;return n?(r.X=a.touches[0].pageX,r.Y=a.touches[0].pageY):(r.X=a.screenX,r.Y=a.screenY),r.T=e.getTimestamp(),!!o(this,a,d)&&(c.cycle=1,void("long"===t&&(c.timer&&clearTimeout(c.timer),c.timer=setTimeout(function(){c.cycle<3&&s(a),c.timer=0},300))))},end:function r(u){var r={X:0,Y:0,T:e.getTimestamp()};n?(r.X=u.changedTouches[0].pageX,r.Y=u.changedTouches[0].pageY):(r.X=u.screenX,r.Y=u.screenY);var c=this["vue-touch-id"],s=i[c][t],d=s.method,f=s.modifiers,h=s.start;return s.cycle=3,!(!t||e.getType(h,r)!==t)&&(!!o(this,u,f)&&("long"!==t&&d(u,h,r),f.once&&(e.detachEvent(this,s.handler),delete i[c][t]),void(null!==a&&a(this,t,u))))}}},a=null,i={};t.install=function(t,n){n&&n.afterEvent&&"function"==typeof n.afterEvent&&(a=n.afterEvent),t.directive("touch",{bind:function(t,n){var o=n.arg,a=n.modifiers,u=!!a.capture,c=n.value,s="";if("function"!=typeof n.value||!n.arg)return console.error("[Vue warn]: Invalid parameter, Expected Function.");t.hasOwnProperty("vue-touch-id")?s=t["vue-touch-id"]:(s=t["vue-touch-id"]=e.getRandomKey(),i[s]={});var d=r(o);i[s][o]={method:c,modifiers:a,handler:d,start:{X:0,Y:0,T:0},timer:0,cycle:0},e.attachEvent(t,d,u)},update:function(e,t){var n=t.arg,o=t.value,r=e["vue-touch-id"],a=i[r];a.hasOwnProperty(n)&&(a[n].method=o)},unbind:function(t){var n=t["vue-touch-id"],o=i[n];for(var r in o)o.hasOwnProperty(r)&&r&&e.detachEvent(t,o[r].handler);delete i[n]}})},"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=t:"function"==typeof define&&define.amd?define([],function(){return t}):window.Vue&&(window.vueTouch=t,Vue.use(t))}();